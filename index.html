<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Birthday Matt</title>
  <!-- Google Font: Quicksand (weights 400 & 600) -->
  <link
    href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap"
    rel="stylesheet"
  />
  <style>
    /* ──────────────────────────────────────────────────────────────────────────
       BASE STYLES (uses Quicksand throughout)
    ────────────────────────────────────────────────────────────────────────── */
    body {
      font-family: 'Quicksand', sans-serif;
      margin: 0;
      background: linear-gradient(to bottom right, #fff5f8, #ffe4ec);
      color: #3a3a3a;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 30px 20px;
      animation: fadeIn 1.5s ease-in;
      overflow-x: hidden;
    }
    h1 {
      font-family: 'Quicksand', sans-serif;
      font-weight: 600;
      font-size: 3em;
      color: #e75480;
      text-align: center;
      margin-bottom: 0.5em;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
    }
    .letter {
      max-width: 700px;
      background: #fff0f5;
      border-radius: 20px;
      padding: 25px;
      margin: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      font-size: 1.1em;
      line-height: 1.7;
      color: #6c3a4c;
      font-family: 'Quicksand', sans-serif;
    }
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
      margin: 30px 0;
      max-width: 1000px;
      width: 100%;
      animation: slideUp 1s ease-out;
    }
    .gallery img {
      width: 100%;
      border-radius: 18px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
      transition: transform 0.3s, box-shadow 0.3s;
      object-fit: cover;
      height: 340px;
      background: #e8e8e8;
      cursor: pointer;
    }
    .gallery img:hover {
      transform: scale(1.05);
      box-shadow: 0 12px 20px rgba(0, 0, 0, 0.2);
    }
    .music-container {
      display: flex;
      justify-content: center;
      margin-top: 30px;
      width: 100%;
      max-width: 600px;
    }
    .music {
      text-align: center;
      animation: fadeIn 2s ease-in;
      background: #ffffffaa;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 6px 14px rgba(0,0,0,0.1);
      width: 100%;
      font-family: 'Quicksand', sans-serif;
    }
    .music h2 {
      font-family: 'Quicksand', sans-serif;
      font-weight: 600;
      font-size: 1.8em;
      margin-bottom: 10px;
      color: #d14f7b;
    }
    .music p {
      font-size: 1em;
      margin-bottom: 20px;
      color: #7a4c61;
      font-family: 'Quicksand', sans-serif;
    }
    audio {
      margin: 10px 0;
      width: 100%;
    }
    .gif {
      margin: 40px 0 10px;
      text-align: center;
    }
    .gif img {
      width: 220px;
      border-radius: 12px;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideUp {
      from { transform: translateY(40px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    /* ──────────────────────────────────────────────────────────────────────────
       PAGE CONTENT BLUR (when the card is open)
    ────────────────────────────────────────────────────────────────────────── */
    #pageContent.blur {
      filter: blur(4px);
      transition: filter 0.3s ease;
    }

    /* ──────────────────────────────────────────────────────────────────────────
       FLOATING HEARTS CONTAINER
    ────────────────────────────────────────────────────────────────────────── */
    #hearts {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      overflow: hidden;
      z-index: 1;
    }

    /* ──────────────────────────────────────────────────────────────────────────
       FLOATING HEARTS ANIMATION
    ────────────────────────────────────────────────────────────────────────── */
    @keyframes drop {
      to {
        transform: translateY(100vh) rotate(-45deg);
        opacity: 0;
      }
    }
    .heart {
      position: absolute;
      width: 20px;
      height: 18px;
      transform: rotate(-45deg);
      opacity: 0.8;
      animation: drop 5s linear infinite; /* duration overridden in JS */
      background-color: #ff6fa5; /* default, JS overrides */
    }
    .heart::before,
    .heart::after {
      content: "";
      position: absolute;
      width: 20px;
      height: 18px;
      background-color: inherit;
      border-radius: 50%;
    }
    .heart::before {
      top: -10px;
      left: 0;
    }
    .heart::after {
      top: 0;
      left: 10px;
    }

    /* ──────────────────────────────────────────────────────────────────────────
       VALENTINE’S‐DAY CARD STYLES (click‐only version)
    ────────────────────────────────────────────────────────────────────────── */
    .valentines-day-card {
      position: relative;
      z-index: 10; /* stay on top when #pageContent is blurred */
      width: 400px;
      height: 300px;
      background: linear-gradient(
        135deg,
        #ff8fa3 0%,
        #ffc1cb 50%,
        #ffe4eb 100%
      );
      overflow: hidden;
      border: 10px solid white;
      border-radius: 10px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      margin: 0 auto;
      transition: box-shadow 0.3s ease, transform 0.3s ease;
      cursor: pointer;
      animation: popIn 0.8s ease-out;
    }
    .valentines-day-card.active {
      width: 800px;
      height: 600px;
    }
    .valentines-day-card.active .clouds {
      display: none;
    }
    .valentines-day-card:before {
      content:"";
      position: absolute;
      background-color: #ffb3c1;
      width:100px;
      height:100px;
      border-radius:50%;
      top:140px;
      left:-25px;
      box-shadow:
        60px 20px #ffb3c1,
        130px 10px #ffb3c1,
        190px 20px #ffb3c1,
        260px -5px #ffb3c1,
        340px 20px #ffb3c1;
    }
    .valentines-day-card:after {
      content:"";
      position: absolute;
      background-color: #ffccd5;
      width:100px;
      height:100px;
      border-radius:50%;
      top:160px;
      left:-40px;
      box-shadow:
        50px 20px #ffccd5,
        120px 40px #ffccd5,
        200px 15px #ffccd5,
        260px 30px #ffccd5,
        330px 30px #ffccd5,
        380px 10px #ffccd5;
    }
    .clouds {
      position: absolute;
      width:100px;
      height:100px;
      border-radius:50%;
      background-color: #fff0f3;
      z-index:5;
      top:210px;
      left:-20px;
      box-shadow:
        55px 30px #fff0f3,
        125px 10px #fff0f3,
        175px 20px #fff0f3,
        250px 10px #fff0f3,
        320px 5px #fff0f3,
        380px 10px #fff0f3;
    }
    .hearts {
      position: absolute;
      z-index:2;
    }
    .heartOne { position: absolute; left:100px; top:250px; animation: up 4s linear forwards 1s; }
    .heartTwo { position: absolute; left:270px; top:230px; animation: up 5s linear forwards 1.8s; }
    .heartThree { position: absolute; left:85px; top:415px; animation: up 5s linear forwards 3s; }
    .heartFour { position: absolute; left:320px; top:380px; animation: upTwo 9s linear infinite 3.5s; }
    .heartFive { position: absolute; left:150px; top:400px; animation: upTwo 13s linear infinite 4.5s; }
    .right-side:before, .right-side:after {
      position: absolute;
      content:"";
      transform-origin: left;
      animation: move 1s ease infinite;
    }
    .right-side:before {
      border-radius:50% 50% 50% 0;
      width:21px;
      height:20px;
      background-color: #c9184a;
      left:-0.26px;
    }
    .right-side:after {
      height:0;
      width:0;
      border-bottom:10px solid transparent;
      border-left: 15px solid #c9184a;
      top:19px;
      left:-0.26px;
    }
    .left-side:before, .left-side:after {
      position: absolute;
      content:"";
      transform-origin: right;
      animation: move 1s ease infinite;
    }
    .left-side:before {
      border-radius:50% 50% 0 50%;
      width:20px;
      height:20px;
      left:-20.7px;
      background-color: #ff4d6d;
    }
    .left-side:after {
      height:0;
      width:0;
      left:-15px;
      border-bottom:10px solid transparent;
      border-right: 15px solid #ff4d6d;
      top:19px;
    }
    @keyframes move {
      0%, 100% {transform: rotateY(0);}
      50% {transform: rotateY(-45deg);}
    }
    @keyframes up {
      0% {transform: translateY(0);}
      100% {transform: translateY(-200px);}
    }
    @keyframes upTwo {
      0% {transform: translateY(0);}
      100% {transform: translateY(-450px);}
    }

    /* ──────────────────────────────────────────────────────────────────────────
       POP‐IN ANIMATION FOR CARD ON LOAD
    ────────────────────────────────────────────────────────────────────────── */
    @keyframes popIn {
      0%   { transform: scale(0.8); opacity: 0; }
      60%  { transform: scale(1.05); opacity: 1; }
      100% { transform: scale(1); }
    }

    /* ──────────────────────────────────────────────────────────────────────────
       SLIDE‐IN ANIMATION FOR HIDDEN TEXT
    ────────────────────────────────────────────────────────────────────────── */
    @keyframes slideInUp {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .text {
      position: absolute;
      color: #800f2f;
      font-size: 30px;
      font-family: 'Quicksand', sans-serif;
      line-height: 1;
      text-align: center;
      /* Center the container horizontally */
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      padding: 20px;
      z-index: 3;
      top: 320px;
      animation: up 1s ease forwards;
      transition: 0.2s;
    }
    .hover {
      color: white;
      font-family: 'Quicksand', sans-serif;
      text-align: center;
      margin-top: 10px;
    }

    /* ──────────────────────────────────────────────────────────────────────────
       REFINED HIDDEN TEXT (on .active), WITH SLIDE‐IN & TYPOGRAPHY UPDATE
    ────────────────────────────────────────────────────────────────────────── */
    .valentines-day-card.active .text::before {
      content: "My dearest Matt,\A\A\
Happy birthday to the most wonderful person in my life. You make my world brighter with your laughter, your kindness, and the music that flows from your soul. I’m endlessly grateful for every moment we share—every look that says more than words.\A\A\
You are the calm to my chaos, the melody to my lyrics, and the best part of every day. I hope this little website reminds you how much you're loved and cherished. Here's to more memories, more songs, more kisses, and a life as beautiful as your heart.\A\A\
Love forever,\A Nook ♡";
      white-space: pre-wrap;
      display: block;
      font-family: 'Quicksand', sans-serif;
      font-weight: 400;
      font-size: 20px;
      line-height: 1.5;
      background: #fff0f5;
      padding: 25px;
      border-radius: 12px;
      color: #6c3a4c;
      margin: 20px auto 0; /* center and add top margin */
      width: 100%;
      box-sizing: border-box;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      animation: slideInUp 0.6s ease-out forwards;
      text-align: center;
    }
    .valentines-day-card.active .text span {
      display: none;
    }

    /* ──────────────────────────────────────────────────────────────────────────
       RESPONSIVE ADJUSTMENTS FOR CARD ON MOBILE SCREENS
    ────────────────────────────────────────────────────────────────────────── */
    @media (max-width: 768px) {
      h1 {
        font-size: 2.2em;
        padding: 0 10px;
      }
      .letter {
        padding: 20px;
        font-size: 1em;
        margin: 15px 10px;
      }
      .gallery {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
      }
      .gallery img {
        height: auto;
        max-height: 200px;
      }
      .music-container {
        margin-top: 30px;
      }
      .music h2 {
        font-size: 1.5em;
      }
      .gif img {
        width: 160px;
      }
      audio {
        width: 100%;
      }

      .valentines-day-card,
      .valentines-day-card.active {
        width: 95vw;
        height: auto;
      }
      .valentines-day-card:before,
      .valentines-day-card:after {
        top: 120px;
        left: -20px;
        box-shadow:
          45px 15px #ffb3c1,
          100px 8px #ffb3c1,
          150px 15px #ffb3c1,
          200px -4px #ffb3c1,
          260px 15px #ffb3c1;
      }
      .clouds {
        top: 180px;
        left: -15px;
        box-shadow:
          45px 20px #fff0f3,
          100px 8px #fff0f3,
          150px 15px #fff0f3,
          200px 8px #fff0f3,
          260px 4px #fff0f3;
      }
      .valentines-day-card .text {
        /* On mobile, adjust top to move text into view when center is different */
        top: 280px;
        width: 95%;
        left: 50%;
        transform: translateX(-50%);
      }
      .valentines-day-card.active .text::before {
        margin: 20px auto 0;
        width: 100%;
        left: auto;
        transform: none;
      }
    }

    @media (max-width: 480px) {
      h1 {
        font-size: 1.8em;
      }
      .letter {
        font-size: 0.95em;
      }
      .music h2 {
        font-size: 1.3em;
      }
      .gallery img {
        max-height: 150px;
      }

      .valentines-day-card,
      .valentines-day-card.active {
        width: 98vw;
        height: auto;
      }
      .valentines-day-card .text {
        top: 260px;
      }
      .valentines-day-card .text,
      .valentines-day-card.active .text::before {
        font-size: 18px;
      }
      .valentines-day-card.active .text::before {
        padding: 18px;
      }
    }

    /* ──────────────────────────────────────────────────────────────────────────
       IMAGE MODAL (Lightbox) STYLES
    ────────────────────────────────────────────────────────────────────────── */
    .image-modal {
      display: none;             /* hidden by default */
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    .image-modal img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
    }
    .image-modal .close-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      color: #fff;
      font-size: 30px;
      font-weight: bold;
      cursor: pointer;
      user-select: none;
    }

    /* ──────────────────────────────────────────────────────────────────────────
       4. BALLOON CURSOR / INTERACTIVE BALLOONS
    ────────────────────────────────────────────────────────────────────────── */
    .balloon {
      position: absolute;
      width: 30px;
      height: 40px;
      background: url('https://i.imgur.com/5RBlY7D.png') no-repeat center/contain;
      pointer-events: none;
      animation: floatUp 2s ease-out forwards;
    }
    @keyframes floatUp {
      0%   { transform: translateY(0) scale(0.6); opacity: 1; }
      100% { transform: translateY(-120px) scale(0.4); opacity: 0; }
    }

    /* ──────────────────────────────────────────────────────────────────────────
       5. HAPPY BIRTHDAY MARQUEE / ANIMATED TEXT BANNER
    ────────────────────────────────────────────────────────────────────────── */
    .marquee-container {
      overflow: hidden;
      white-space: nowrap;
      width: 100%;
      background: #ffb3c1;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    .marquee {
      display: inline-block;
      padding-left: 100%;
      animation: scrollText 12s linear infinite;
      font-family: 'Quicksand', sans-serif;
      font-weight: 600;
      font-size: 1.4em;
      color: #800f2f;
    }
    @keyframes scrollText {
      0%   { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }

    /* ──────────────────────────────────────────────────────────────────────────
       8. THEME SWITCHER (DAY/NIGHT OR COLOR PALETTE)
    ────────────────────────────────────────────────────────────────────────── */
    body.dark-mode {
      background: #2c003e; /* deep plum */
      color: #f0e6f6;
    }
    body.dark-mode .valentines-day-card {
      background: linear-gradient(
        135deg,
        #5e0068 0%,
        #800f9e 50%,
        #b030e7 100%
      );
      border-color: #f0e6f6;
    }
    body.dark-mode .music {
      background: rgba(50, 0, 50, 0.7);
      color: #f0e6f6;
    }
    body.dark-mode .gallery img {
      filter: brightness(0.8);
    }
    body.dark-mode .marquee-container {
      background: #4b004b;
    }
    body.dark-mode .marquee {
      color: #ffd1ff;
    }
    #themeToggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 8px 12px;
      background: #ffe4ec;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1em;
      font-family: 'Quicksand', sans-serif;
      font-weight: 600;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    body.dark-mode #themeToggle {
      background: #5e0068;
      color: #f0e6f6;
    }
  </style>
</head>
<body>
  <!-- ──────────────────────────────────────────────────────────────────────────
       5. HAPPY BIRTHDAY MARQUEE / ANIMATED TEXT BANNER (at the very top)
  ────────────────────────────────────────────────────────────────────────── -->
  <div class="marquee-container">
    <div class="marquee">
      🎈🎈🎈 Happy Birthday, Matt! Happy Birthday, Matt! Happy Birthday, Matt! 🎈🎈🎈
    </div>
  </div>

  <!-- ──────────────────────────────────────────────────────────────────────────
       ─── VALENTINE’S‐DAY CARD (now at the top) ───────────────────────────────
  ────────────────────────────────────────────────────────────────────────── -->
  <div class="happy-valentines">
    <div class="valentines-day-card" id="valentineCard">
      <div class="clouds"></div>
      <div class="hearts">
        <div class="heartOne">
          <div class="left-side"></div>
          <div class="right-side"></div>
        </div>
        <div class="heartTwo">
          <div class="left-side"></div>
          <div class="right-side"></div>
        </div>
        <div class="heartThree">
          <div class="left-side"></div>
          <div class="right-side"></div>
        </div>
        <div class="heartFour">
          <div class="left-side"></div>
          <div class="right-side"></div>
        </div>
        <div class="heartFive">
          <div class="left-side"></div>
          <div class="right-side"></div>
        </div>
      </div>
      <div class="text"><span>Happy birthday my bby Matt &lt;3</span></div>
    </div>
    <p class="hover">- click the card to reveal -</p>
  </div>

  <!-- ──────────────────────────────────────────────────────────────────────────
       ─── BIRTHDAY SONG (moved just below the card) ───────────────────────────
  ────────────────────────────────────────────────────────────────────────── -->
  <div class="music-container">
    <div class="music">
      <h2>Your Birthday Song 🎵</h2>
      <p>(Just one from my solo piano, not perfect but it's from my heart 💗)</p>
      <audio controls>
        <source src="2025-05-19-20-55-22.m4a" type="audio/mp4" />
        Your browser does not support the audio element.
      </audio>
    </div>
  </div>

  <!-- Theme Toggle Button (fixed at bottom right) -->
  <button id="themeToggle">🌙 Night Mode</button>

  <!-- ──────────────────────────────────────────────────────────────────────────
       ─── PAGE CONTENT (gallery + floating hearts)
       Wrapped in #pageContent so we can blur it when the card opens
  ────────────────────────────────────────────────────────────────────────── -->
  <div id="pageContent">
    <!-- ──────────────────────────────────────────────────────────────────────────
         GALLERY: Thumbnails that open in a lightbox on click
    ────────────────────────────────────────────────────────────────────────── -->
    <div class="gallery">
      <img src="Screenshot 2025-05-22 at 9.55.49 pm.png" alt="Memory 1" />
      <img src="Screenshot 2025-05-22 at 9.55.35 pm.png" alt="Memory 2" />
      <img src="Screenshot 2025-05-22 at 9.56.35 pm.png" alt="Memory 3" />
      <img src="Screenshot 2025-05-22 at 9.56.22 pm.png" alt="Memory 4" />
      <img src="Screenshot 2025-05-22 at 9.56.12 pm.png" alt="Memory 5" />
      <img src="Screenshot 2025-05-22 at 9.56.02 pm.png" alt="Memory 6" />
    </div>

    <!-- Floating hearts container (will be blurred when card opens) -->
    <div id="hearts"></div>
  </div>

  <!-- IMAGE MODAL (hidden by default) -->
  <div id="imageModal" class="image-modal">
    <span class="close-btn">&times;</span>
    <img id="modalImg" src="" alt="Full-size preview" />
  </div>

  <!-- Load Canvas‐Confetti (for the burst on reveal) -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

  <!-- ──────────────────────────────────────────────────────────────────────────
       ─── SCRIPTS:
         1) Toggle “active” on the Valentine’s card + fire confetti + blur page
         2) Create floating hearts in the background
         3) Lightbox logic for gallery images
         4) Balloon cursor / interactive balloons on click
         5) Theme switcher toggle
  ────────────────────────────────────────────────────────────────────────── -->
  <script>
    // 1) Toggle active on the Valentine’s card, apply blur to #pageContent, fire confetti
    const card = document.getElementById('valentineCard');
    const pageContent = document.getElementById('pageContent');

    card.addEventListener('click', function () {
      this.classList.toggle('active');
      pageContent.classList.toggle('blur');

      // Only fire confetti when opening (not when closing)
      if (this.classList.contains('active')) {
        confetti({
          particleCount: 60,
          spread: 55,
          origin: { x: 0.5, y: 0 },
        });
      }
    });

    // 2) Floating hearts in the background (random colors & durations)
    function createHeart() {
      const heart = document.createElement('div');
      heart.classList.add('heart');
      // Random horizontal position
      heart.style.left = Math.random() * 100 + 'vw';
      // Start at top of viewport
      heart.style.top = '-20px';
      // Pick one of three pink shades
      const colors = ['#ff6fa5', '#ff9bbb', '#ffa3c4'];
      heart.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
      // Slightly slower on mobile
      const baseDuration = window.innerWidth <= 480 ? 5 : 3;
      heart.style.animationDuration = (baseDuration + Math.random() * 2) + 's';
      heart.style.opacity = (0.4 + Math.random() * 0.6);
      document.getElementById('hearts').appendChild(heart);
      setTimeout(() => heart.remove(), (baseDuration + 2) * 1000);
    }
    setInterval(createHeart, 300);

    // 3) LIGHTBOX: click a .gallery img to open full-screen modal
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImg');
    const closeBtn = document.querySelector('.close-btn');

    document.querySelectorAll('.gallery img').forEach(img => {
      img.addEventListener('click', () => {
        modalImg.src = img.src;
        modal.style.display = 'flex';
      });
    });

    closeBtn.addEventListener('click', () => {
      modal.style.display = 'none';
    });

    modal.addEventListener('click', e => {
      if (e.target === modal) {
        modal.style.display = 'none';
      }
    });

    // 4) BALLOON CURSOR / INTERACTIVE BALLOONS ON CLICK
    document.addEventListener("click", (e) => {
      // Only trigger on left-click and ignore clicks on buttons/inputs to avoid conflicts
      if (e.button !== 0) return;
      const targetTag = e.target.tagName.toLowerCase();
      if (["button", "input", "textarea"].includes(targetTag)) return;

      const balloon = document.createElement("div");
      balloon.classList.add("balloon");
      balloon.style.left = (e.pageX - 15) + "px";
      balloon.style.top = (e.pageY - 20) + "px";
      document.body.appendChild(balloon);
      setTimeout(() => balloon.remove(), 2000);
    });

    // 5) THEME SWITCHER TOGGLE
    const themeToggle = document.getElementById("themeToggle");
    themeToggle.addEventListener("click", () => {
      document.body.classList.toggle("dark-mode");
      themeToggle.textContent = document.body.classList.contains("dark-mode")
        ? "☀️ Day Mode"
        : "🌙 Night Mode";
    });
  </script>
</body>
</html>
